{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["// Описаний в документації\nimport flatpickr from 'flatpickr';\n// Додатковий імпорт стилів\nimport 'flatpickr/dist/themes/dark.css';\n\n// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\n\nimport 'izitoast/dist/css/iziToast.min.css';\niziToast.settings({\n  timeout: 10000,\n  resetOnHover: true,\n  icon: 'material-icons',\n  transitionIn: 'flipInX',\n  transitionOut: 'flipOutX',\n});\n\nconst refs = {\n  input: document.getElementById('datetime-picker'),\n  button: document.querySelector('[data-start]'),\n\n  dataDays: document.querySelector('[data-days]'),\n  dataHours: document.querySelector('[data-hours]'),\n  dataMinutes: document.querySelector('[data-minutes]'),\n  dataSeconds: document.querySelector('[data-seconds]'),\n};\nconst { input, button } = refs;\nconst { dataDays, dataHours, dataMinutes, dataSeconds } = refs;\n\nlet userSelectedDate;\nlet today = new Date();\n\n// додкаткові опції бібліотеки flatpickr\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  // minDate: 'today',\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    userSelectedDate = selectedDates[0];\n\n    if (userSelectedDate < today) {\n      iziToast.show({\n        title: 'Hey!',\n        message: 'Please choose a date in the future',\n        position: 'topCenter',\n        backgroundColor: 'red',\n        messageColor: 'white',\n        messageSize: '20',\n      });\n      button.disabled = true;\n    } else {\n      button.disabled = false;\n    }\n  },\n};\n\n// ініціалізація бібліотеки\nflatpickr(input, options);\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\n// Прослуховувач події 'click'\nbutton.addEventListener('click', handlerClick);\n\nfunction handlerClick() {\n  setInterval(() => {\n    today = new Date();\n\n    const difference = userSelectedDate - today;\n    button.disabled = true;\n    input.disabled = true;\n\n    if (difference > 0) {\n      const data = convertMs(difference);\n\n      dataDays.textContent = addLeadingZero(data.days);\n      dataHours.textContent = addLeadingZero(data.hours);\n      dataMinutes.textContent = addLeadingZero(data.minutes);\n      dataSeconds.textContent = addLeadingZero(data.seconds);\n    } else {\n      button.disabled = false;\n      input.disabled = false;\n    }\n  }, 1000);\n}\n\n// функція форматування числа\nfunction addLeadingZero(value) {\n  return value.toString().padStart(2, '0');\n}\n"],"names":["iziToast","refs","input","button","dataDays","dataHours","dataMinutes","dataSeconds","userSelectedDate","today","options","selectedDates","flatpickr","convertMs","ms","days","hours","minutes","seconds","handlerClick","difference","data","addLeadingZero","value"],"mappings":"sFAUAA,EAAS,SAAS,CAChB,QAAS,IACT,aAAc,GACd,KAAM,iBACN,aAAc,UACd,cAAe,UACjB,CAAC,EAED,MAAMC,EAAO,CACX,MAAO,SAAS,eAAe,iBAAiB,EAChD,OAAQ,SAAS,cAAc,cAAc,EAE7C,SAAU,SAAS,cAAc,aAAa,EAC9C,UAAW,SAAS,cAAc,cAAc,EAChD,YAAa,SAAS,cAAc,gBAAgB,EACpD,YAAa,SAAS,cAAc,gBAAgB,CACtD,EACM,CAAE,MAAAC,EAAO,OAAAC,CAAQ,EAAGF,EACpB,CAAE,SAAAG,EAAU,UAAAC,EAAW,YAAAC,EAAa,YAAAC,CAAW,EAAKN,EAE1D,IAAIO,EACAC,EAAQ,IAAI,KAGhB,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GAEX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrBH,EAAmBG,EAAc,CAAC,EAE9BH,EAAmBC,GACrBT,EAAS,KAAK,CACZ,MAAO,OACP,QAAS,qCACT,SAAU,YACV,gBAAiB,MACjB,aAAc,QACd,YAAa,IACrB,CAAO,EACDG,EAAO,SAAW,IAElBA,EAAO,SAAW,EAErB,CACH,EAGAS,EAAUV,EAAOQ,CAAO,EAExB,SAASG,EAAUC,EAAI,CAQrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAGAf,EAAO,iBAAiB,QAASgB,CAAY,EAE7C,SAASA,GAAe,CACtB,YAAY,IAAM,CAChBV,EAAQ,IAAI,KAEZ,MAAMW,EAAaZ,EAAmBC,EAItC,GAHAN,EAAO,SAAW,GAClBD,EAAM,SAAW,GAEbkB,EAAa,EAAG,CAClB,MAAMC,EAAOR,EAAUO,CAAU,EAEjChB,EAAS,YAAckB,EAAeD,EAAK,IAAI,EAC/ChB,EAAU,YAAciB,EAAeD,EAAK,KAAK,EACjDf,EAAY,YAAcgB,EAAeD,EAAK,OAAO,EACrDd,EAAY,YAAce,EAAeD,EAAK,OAAO,CAC3D,MACMlB,EAAO,SAAW,GAClBD,EAAM,SAAW,EAEpB,EAAE,GAAI,CACT,CAGA,SAASoB,EAAeC,EAAO,CAC7B,OAAOA,EAAM,SAAU,EAAC,SAAS,EAAG,GAAG,CACzC"}